# 第1章 函数、图像和直线
- 函数，其定义域、上域、值域和垂线检验；
- 反函数和水平线检验；
- 函数的复合；
- 奇函数和偶函数；  
- 线性函数和多项式的图像，以及对有理函数、指数函数和对数函数图像的简单回顾；
- 如何处理绝对值。

## 1.1 函数

> 函数是将一个对象转化为另一个对象的规则，起始对象称为输入，来自称为定义域的集合，返回对象称为输出，来自称为上域的集合。

### 函数例子和定义域

$f(x) = x^2$  这就定义了一个函数$f$。  
- 在没有说明其定义域或上域，假设它们都属于$R$，即所有实数的集合（所以我们可以将任何实数平方，并得到一个实数）。  
- 转变后的对象不需要有别于原始对象。  
- $f$是一个变换规则，而$f(x)$是把这个变换规则应用于变量x后得到的结果。（因此说$(x)$是一个函数是不正确的，应该说“$f$是一个函数。”）  
  
令$g(x) = x^2$，其定义域仅包含大于或等于零的数（这样的数称为非负的）。$g(-1/2)$却是没有定义的，函数$g$会拒绝非其定义域中的一切。  

> 虽然$f$与$g$有相同的规则，但$g$的定义域小于$f$的定义域，因而我们又说$g$是由限制$f$的定义域产生的。  

举例：

令$f(x) = x^2$，$f(马)$是什么？

$f(马)$是无定义的，因为不能平方一匹马。

- 若指定 $h(x) = x$的腿的数目，其中h的定义域是所有动物的集合：h(马) = 4，h(蚂蚁) = 6，h(鲑鱼) = 0。  
    - 因为动物腿的数量不会是负数或分数，所以h的上域可以是所有非负整数的集合。  
    - h(2)是没有定义的，因为2不在h的定义域中；  
    - h(椅子)也是没有定义的，因为椅子不是动物，椅子不在h的定义域中。  
  
令`j(x) = Junkster` 吃x时呕吐物的颜色，其中j的定义域是Junkster所吃的食物的集合，其上域是所有颜色的集合。  
- 为了行之有效，必须认为如果Junkster吃了玉米面卷，所产生的呕吐物始终是一种颜色。（如果有时候是红色，有时候是绿色，就不好了，**一个函数必须给每一个有效的输入指定唯一的输出**。  
  
### 值域和上域  
值域：值域是所有可能的输出所组成的集合。转变后的对象（包括重复的）所组成的集合称作值域。  

> 上域：是可能输出的集合，而值域是实际输出的集合。值域实际上是上域的一个子集。  

- 如果$f(x) = x^2$，其定义域和上域均为R，那么其值域是非负数的集合。（平方一个数，其结果不可能是负数。）  
- $g(x) = x^2$，其定义域仅为非负数，其上域仍是所有实数R，那么其值域还是非负数的集合。  
- $h(x)$ 是动物x的腿的数目，值域：任何动物可能会有的腿的数目的集合，比如2 4 6 8 ……条腿的动物  
  
### 1.1.1 区间表示法
  
`[a, b]`：指从a到b端点间的所有实数。包括a和b。
- 所有`[a, b]`指：所有使得$a \leq x \leq b$ 成立的 x 的集合。  
    - 例如`[2, 5]`是所有介于2和5之间（包括2和5）实数的集合。（不仅包括 2 3 4 5，还有处于2和5之间的无理数和分数）  
`(a, ∞)`：大于a，但不包括a的所有数。  
`[a, ∞)`：大于a，且包括a的所有数。  
`(    )`：开区间  
`[    ]`：闭区间  
`[    )`或`(    ]`：半开区间  

### 1.1.2 求定义域  
通常情况下，函数没有给出定义域时，惯例是定义域包括实数集尽可能多的部分。  
例如：`k(x) = √x`，其定义域就不可能是R中的所有实数，因为不可能得到一个负数的平方根。所以其定义域一定是`[0, ∞]`。（大于或等于0的所有实数的集合）  
  
一些数学的惯例：  
1. 分数的分母不能是零。  
2. 不能取一个负数的平方根（或四次根、六次根等）。  
3. 不能取一个负数或零的对数（有关“对数函数”，请看第9章）  

关于例1：分数的分母不能是零：

$tan(90^\circ)=\frac {sin(90^\circ)} {cos(90^\circ)} = \frac {1} {0}$

$tan(90^\circ)$ 之所以是无定义的，实际上是因为其隐藏的分母为零。

---

另一个例子是：

如果定义$f(x)=\frac {log_{10} (x+8) \sqrt{26-2x} } {(x-2)(x+19)}$， $f$的定义域是？

为了使$f(x)$有意义， 我们需要：
  
- 取$(26 - 2x)$的平方根，这个量必须是非负，所以$26 - 2x \geq 0$，也可以写成$x \leq 13$；  
- 取 $(x + 8)$ 的对数，所以这个量必须是正的。需要 $x + 8 > 0$，所以$x > -8$；  
> 目前用区间表示f的定义域：$(-8,13]$。  
- 分母不能为零，所以$(x-2) \neq 0$且$(x+19) \neq 0$，也就是$x \neq 2$且$x \neq -19$； 
综合以上条件：$f$的定义域是除了$2$以外的集合$(-8, 13]$，写作$(-8,13] \setminus \{2\}$。（这里的反斜杠表示“不包括”）

### 1.1.3 利用图像求值域
定义一个新函数 $F$，指定其定义域为$[-2,1]$，并且$F(x) = x^2$在此定义域上。

同时我们也定义另一个函数$f(x) = x^2$ ，对于所有的实数$x$（意思就是定义域为所有实数$x$.

记住$F$与$f$不是同一个函数，因为两个函数的定义域不相同（尽管它们有相同的函数规则）。

现在$F$的值域又是什么？我们可以将$-2$到$1$之间的每一个实数平方，也可以用图像来求一个函数的值域。基本思想是：

1. 画出函数图像，然后想象从图像的左边和右边很远的地方朝向y轴水平地射入两束亮光，曲线会在y轴上有两个影子，一个在y轴的左侧，另一个在y轴的右侧。值域就是影子的并集；
2. 也就是说如果y轴上任意一点落在左侧或右侧的影子里，那么它就处于函数的值域中。

以函数$F$为例：

![[Pasted image 20220414201724.png]]

左侧的影子覆盖了y轴从0到4（包括0和4）的所有点，也就是$[0,4]$；另一方面，右侧的影子覆盖了从0到1（包括0和1）的所有点，也就是$[0,1]$，右侧的影子范围较小，全部的范围仍然是$[0,4]$，这就是函数$F$的值域。

> 在第12章还会有绘制函数图像的技巧。

### 1.1.4 垂线检验

什么是函数$f$的图像？它是所有坐标为$(x,f(x))$的店的集合，其中$x$在$f$的定义域中。

我们还有另外一种方式来看待它：

1. 以某个实数$x$开始，如果$x$在定义域中，就画点$(x,f(x))$，当然这个点在$x$轴上的点x的正上方，高度为$f(x)$。
2. 如果$x$没有在定义域中，就不能画任何点。
3. 对于每一个实数x，重复这个过程，从而构造出函数的图像。

> 这里的关键思想是：不可能有两个点有相同的$x$坐标。

换句话说，在图像上没有两个点会落在不同相对于x轴的同一条垂线上。（要不然，又将如何知道在点x上方的两个或多个不同高度的点中，哪一个是对应于$f(x)$的值？）这样就有了**垂线检验**。

垂涎检验：如果有某个图像你想知道它是否是函数的图像，你就看看是否任何的垂线和图像相交多于一次。如果是，它就不是函数的图像；反之，如果没有一条垂线和图像相交多于一次，那它就是函数的图像。

举例：以原点为中心，半径为三个单位的圆的图像：

![[Pasted image 20220414210924.png]]

当x落在区间$(-3,3)$上时，对于这其中的任意x值，垂线通过$(-3,3)$和圆相交2次，我们就不知道$f(x)$到底是对应上方的点还是下方的点。

可以将圆分成上下两个半圆，并只选择上一半或下一半。整个圆的方程是$x^2 + y^2 = 9$ ，而上半圆的方程是$y = \sqrt {9 - x^{2}}$ ，下半圆的方程是$y = - \sqrt {9 - x^{2}}$ 。这两个方程就是函数，定义域都是$[-3,3]$。

> 其实不是必须要把它分成半圆，只要不违反垂线检验就行。

这也是一个函数的图像（通过了垂线检验）：

![[Pasted image 20220414212227.png]]

## 1.2 反函数

假设一个函数$f$，给它一个输入$x$，如果$x$在$f$的定义域中，我就能得到一个输出，我们称它为$f(x)$。

现在我们把过程倒过来，并问：如果选 一个实数$y$，那么应该赋予$f$什么样的输入才能得到这个输出$y$呢？

用数学语言陈述就是：给定一个实数$y$，那么在$f$定义域中的哪个$x$满足$f(x) = y$？

- 首先要注意：$y$必须在$f$的值域中。法则根据定义，将不再有$x$的值使得$f(x) = y$成立。如此在$f$定义域中将没有这样的x满足$f(x) = y$，因为值域是所有的的可能输出。

如果y在值域中，也可能会有很多值都满足$f(x) = y$。例如$f(x) = x^2$（其定义域为$R$），我们的问题是x取何值时会输出64。很显然，有两个x值：$8$和$-8$

另外，如果$g(x) = x^3$ 对于相同的问题这时只有一个$x$值，就是4。

所以这里的情形如下，
- 给定一个函数$f$，在$f$的值域中选择$y$。
- 在理想状况下，仅有一个x值满足$f(x) = y$
- 如果上述理想状况对于值域中的每一个$y$来说都成立，那么就可以定义一个新的函数，它逆转变换。从输出$y$出发，这个新的函数发现一个且仅有一个输入x满足$f(x) = y$。这个新的函数称为$f$的**反函数**。
- 这个新的函数称为$f$的反函数，并写作$f^{-1}$ 

以下用数学语言对上述情形的总结：

1. 从一个函数$f$出发，使得对于在$f$值域中的任意$y$，都只有唯一的$x$值满足$f(x) = y$。也就是说，不同的输入对应不同的输出。现在，我们就来定义反函数$f^{-1}$ 
2. $f^{-1}$ 的定义域和$f$的值域相同。
3. $f^{-1}$的值域和$f$的定义域相同。
4. $f^{-1}(y)$的值就是满足$f(x) = y$的$x$。所以，**如果$f(x) = y$，那么$f^{-1}(y) = x$

> 接下来又产生了新的问题：我们怎么知道只有唯一的$x$值满足$f(x) =  y$呢？
> 1. 如果是这样， 如何求得反函数？其图像是什么样子？如果不是这样，又如何挽救这一局面？

接下来`1.2.1 1.2.2 1.2.3`会对以上问题作出解答。

### 1.2.1 水平线检验

问题1：如何知道对于$f$值域中的任意$y$，只有一个$x$值满足$f(x) = y $——最好的方法时看一下函数图像。
在$f$值域中选择$y$，并且希望只有一个$x$值满足$f(x) = y$。这意味着通过点$(0,y)$的水平线应该和图像仅有一次相交，且交点为点$(x,y)$。那个x就是我们想要的。

如果水平线和曲线相交多于一次，那将会有多个可能的对应x值。如果是那样，获得反函数唯一的方法就是对定义域加以限制。

如果水平线根本就没有和曲线相交，会如何？就是$y$根本没有在值域当中，这样也不错。

水平线检验：如果每一条水平线和一个函数的图像相交至多一次，那么这个函数就有一个反函数。如果即使只有一条水平线和图像相交多于一次，那么这个函数就没有反函数。

举例：$f(x) = x^3$和$g(x) = x^2$

![[Pasted image 20220414230839.png]]

没有一条水平线和$y = f(x)$相交多于一次，所以$f$有一个反函数。

一些水平线与曲线$y = g(x)$相交两次，所以$g$没有反函数。

> 这里的问题在于：如果通过$y = x^2$来求解$x$，其中$y$为正，那么就会出现两个解：$x = \sqrt {y}$ 和$x = - \sqrt {y}$，结果不知道该取哪一个。

### 1.2.2 求反函数

问题2：如何求得函数$f$的反函数？

只需要写下$y = f(x)$，然后试着解出$x$。在$f(x) = x^3$ 的例子中，有$y = x^3$ ，所以$x = \sqrt [3] {y}$. 这意味着，$f^{-1}(y) = \sqrt[3]{y}$ . 如果你觉得变量$y$刺眼，可以将它改写为$x$，写成$f^{-1}(x) = \sqrt [3]{x}$ .

当然，求截$x$不总是那么简单，事实上，求解经常是不可能的。

**另一方面如果你知道函数图像是什么样子的，反函数的图像就会很容易画出来。** 基本思想是：在图像上画一条$y = x$的直线，然后将这条直线假想为一个双面的镜子。 **反函数就是原始函数的镜面反射。** 如果$f(x) = x^3$ ，那么$f^{-1}$ 的图像如图$1-5$所示。

![[Pasted image 20220415154022.png]]

原始函数$f$ 在$y = x$这面镜子中被反射，从而得到反函数。注意：$f$和$f^{-1}$ 的定义域和值域都是整个实轴。

### 1.2.3 限制定义域

最后要处理第三个问题：如果水平线检验失败因而没有反函数，那应该怎么办呢？我们面临的问题是，对于相同的 $y$ 有多个 $x$ 值。解决此问题的唯一办法是：除了这多个 $x$ 值中的一个，我们放弃所有其它值。**也就是说，必须决定要保留哪一个 $x$ 值 ，然后放弃剩余的值。**
正如我们在`1.1`节中看到的，这称为**限制函数的定义域**.实质上，我们山区部分曲线，使得保留下来的部分能够通过水平线检验。
例如$g(x) = x^2$ ，可以删除左半边的图像，如图 `1-6` 所示。

![[Pasted image 20220415155436.png]]

这条新的（实线的）曲线将定义域缩减为 $[0,\infty)$ ，并且满足水平线检验，所以它有反函数。更确切地说，定义在定义域$[0,\infty)$ 上的函数$h$ 有反函数，其中$h(x) = x^2$ 。我们用镜面看一下它到底是什么样子的：

为了找到反函数的方程，必须在方程$y = x^2$中解出$x$. 问题的解就是$x = \sqrt y$ 或 $x = - \sqrt y$ 。我们知道反函数的值域和原始函数的定义域是相同的，而后者被限制为$[0,\infty)$ ，所以我们需要一个非负的数来作为答案，即$x = \sqrt y$ .这就是说，$h^{-1}(y) = \sqrt y$ 

也可以把原始图像的右半边删除，将定义域限制为$(- \infty, 0]$ .在那种情况下，我们得到一个定义域为 $(- \infty, 0]$ 的函数$j$。它也满足$j(x) = x^2$ ，但只是在这个定义域上才成立。这个函数也有反函数，反函数是负的平方根，即$j^{-1}(y) = - \sqrt y$ ,如图`1-7`所示。

![[Pasted image 20220415170109.png]]

顺便说一下，如果让没有通过水平线检验的、定义域为$(- \infty, \infty)$ 的原始函数$g(x) = x^2$ 在镜子 $y = x$中反射，那么你会得到如图`1-8`所示的图像。

注意这个图像不会通过垂线检验，所以它不是函数的图像。这说明了垂线检验和水平线检验之间的练习，即水平线被镜子$y = x$ 反射后会变成垂线。

### 1.2.4 反函数的反函数

